.. _install:

======================
 Download and install
======================

Download
--------

To check out the latest development version::

    git clone git://github.com/binarybottle/mindboggle.git

Install
-------

Step 1: Install Mindboggle Python software
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Change into the ``mindboggle`` directory and install mindboggle using::

    python setup.py install

.. Note::

    Depending on permissions you may need to use ``sudo``.

Now mindboggle is by default installed into Python's ``root`` path,
      e.g., /usr/local/lib/python2.7/site-packages/

Step 2: Compile C++ code
~~~~~~~~~~~~~~~~~~~~~~~~

Move the mindboggle_tools directory to wherever you install your software
(let's call it YOUR_SOFTWARE_PATH), then run cmake (or ccmake) and make::

    mv mindboggle_tools YOUR_SOFTWARE_PATH
    cd YOUR_SOFTWARE_PATH/mindboggle_tools/bin/
    cmake ..
    make

Step 3: Set environment variables
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

For your system to recognize the C++ code we just compiled,
the atlases included with Mindboggle, and
the FreeSurfer-style subjects directory tree,
include the following lines in your system's equivalent of a .bash_profile file::

    MINDBOGGLE_TOOLS=/software/mindboggle_tools/bin
    MINDBOGGLE_DATA=/drop/MB/data
    SUBJECTS_DIR=YOUR_FREESURFER_SUBJECTS_PATH
    export MINDBOGGLE_TOOLS	MINDBOGGLE_DATA SUBJECTS_DIR
    export PATH=$PATH:$MINDBOGGLE_TOOLS:$MINDBOGGLE_DATA:$SUBJECTS_DIR

.. Note::
    To take advantage of the FreeSurfer_ software, install the latest version
    and preprocess T1-weighted data using the recon-all command.
    Otherwise, place appropriate input files in a file tree corresponding to
    FreeSurfer's subjects/ directory tree referenced by the above SUBJECTS_DIR
    environment variable.

Dependencies
------------

Below is a list of required dependencies, along with additional software
recommendations.

Must Have
~~~~~~~~~

setuptools::
    sudo apt-get install python-setuptools

Basic compilation software::
  - cmake_
  - C++ compiler such as gcc

`Visualization Toolkit`_

Python_ 2.7

Nipype_ and its dependencies (NetworkX_, GraphViz_, etc.)
  Neuroimaging software pipeline framework

Nibabel_
  Neuroimaging file i/o library

NumPy_

SciPy_
  Numpy and Scipy are high-level, optimized scientific computing libraries

.. Note::

    Full distributions such as EPD_ or pythonxy_ provide the above packages,
    except nibabel_ and nipype_.  The EPD_ also includes the following
    strongly recommended libraries (ipython_, sphinx_, matplotlib_, graphviz_)::

        IPython
          Interactive python environment. This is necessary for some parallel
          components of the pipeline engine.

        Sphinx
          Required for building the documentation

        Matplotlib
          Plotting library

        Graphviz
          Required for building the documentation

Strong Recommendations
~~~~~~~~~~~~~~~~~~~~~~

FreeSurfer_
  FreeSurfer version 5.3 and higher
  This software will help to initialize labels for Mindboggle
  and generates the directory tree that Mindboggle uses to call
  subject data. Earlier versions will likely work, but label initialization
  uses the Desikan-Killiany-Tourville protocol starting with version 5.3.

==========
Mindboggle
==========

This package enables a user to automate anatomical labeling,
feature extraction, and shape analysis of human brain MR image data.

Help
====
- Online documentation: http://mindboggle.info/documentation.html
- **INSTALL** file in the distribution or online
- Help on the command line::

    >>> python mindboggler.py --help

License
=======
Except where noted, all Mindboggle software is under the `Apache v2.0`_
license (see the LICENSE file in the Mindboggle distribution),
and documentation is under a `Creative Commons Attribution 3.0 License`_.

Inputs
======
Mindboggle currently uses ANTS for registration-based volume labels
and FreeSurfer to initialize cortical surface labels. The easiest way
to prepare inputs for Mindboggle is to simply run FreeSurfer_::

    $ recon-all -all -s <subject> -i <T1 image>

Alternatively, a user can provide 4 vtk surfaces and 4 nifti volumes in a
FreeSurfer-like directory tree, after setting the $SUBJECTS_DIR environment
variable (see **INSTALL**).  For the example subject Twins-2-1:

    $SUBJECTS_DIR/Twins-2-1/
        |        mri/brain.nii.gz
        |        mri/[lh,rh].ribbon.nii.gz
        |        mri/orig/001.nii.gz
        |        surf/[lh,rh].pial.vtk
        |        label/[lh,rh].pial.vtk

Example
=======
Terminal command for processing multiple subjects with 4 processors::

    >>> python mindboggler.py subject1 subject2 subject3 -n 4

Outputs
=======
- image volumes with anatomical labels
- left and right cortical hemisphere surfaces labeled by:
    - anatomy (ex: superior frontal gyrus)
    - feature (ex: sulcus ID)
    - shape   (ex: travel depth)
- tables of shape measures for the above labels and features

Output folders
~~~~~~~~~~~~~~
Default output in $HOME/mindboggled/results/:

+-+---------------+----------------------------------------------+----------+
| |  **Folder**   | **Contents**                                 |**Format**|
+-+---------------+----------------------------------------------+----------+
| |   tables/     |  tables of shape measures per feature/vertex | .csv     |
+-+---------------+----------------------------------------------+----------+
| |   labels/     |  labeled volumes and surfaces                | .nii,.vtk|
+-+---------------+----------------------------------------------+----------+
| |   shapes/     |  surfaces with shape measures (per vertex)   | .vtk     |
+-+---------------+----------------------------------------------+----------+
| |   features/   |  surface features: folds, sulci, fundi       | .vtk     |
+-+---------------+----------------------------------------------+----------+
| |   nifti/      |  brain volume images                         | .nii     |
+-+---------------+----------------------------------------------+----------+
| |   nifti_mask/ |  cortical volume mask images                 | .nii     |
+-+---------------+----------------------------------------------+----------+
| |   transforms/ |  ANTS volume registration transforms         | .nii     |
+-+---------------+----------------------------------------------+----------+

Output categories
~~~~~~~~~~~~~~~~~
*Surface labels*
    - DKT classifier labels

*Volume labels*
    - Propagate surface labels to fill cortical gray matter
    - Register whole brain to template in MNI152 space
    - Combine filled cortical with registered subcortical labels
    - (Evaluate automated vs. manual label overlap)

*Surface shapes*
    - Surface area
    - Travel depth
    - Geodesic depth
    - Mean curvature
    - Convexity (FreeSurfer)
    - Thickness (FreeSurfer)

*Surface features*
    - Folds
    - Sulci
    - Fundi

*Surface feature shapes*
    - Laplace-Beltrami spectra
    - Zernike moments

*Volume feature shapes*
    - Volumes

*Surface tables*
    - Label shapes
    - Sulcus shapes
    - Fundus shapes
    - Vertex measures

*Volume tables*
    - Label volumes


.. include:: doc/links_names.txt

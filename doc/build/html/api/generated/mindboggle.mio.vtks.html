<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mindboggle &mdash; Mindboggle</title>
    
    <link rel="stylesheet" href="../../_static/mindboggle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '%s.%s.%s%s',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Mindboggle" href="../../index.html" />
  <HTML><head><title>Mindboggle</title>
  <link rel="icon" type="image/png" sizes="96x96" href="http://mindboggle.info/shared/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="32x32" href="http://mindboggle.info/shared/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="http://mindboggle.info/shared/favicon-16x16.png">
  <meta http-equiv="Content-language" content="en">
  <meta name="description" content="Mindboggle">
  <meta name="keywords" content="Mindboggle, neuroimaging, brain imaging, python, neuroscience, labeling, parcellation, morphometry, shape analysis, MRI">
  <meta name="author" content="mailto:arno&#64;mindboggle.info">
  <meta name="dc.title" content="Mindboggle"> 
  <meta name="dc.creator.address" content="arno&#64;mindboggle.info">
  <meta name="dc.subject" content="Mindboggle">
  <meta name="dc.type" content="text.homepage.academic"> 
  <meta name="dc.format" content="text/html"> 
  <meta name="dc.identifier" content="http://mindboggle.info">

  </head>
  <body role="document">
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <table>
  <tr>
   <td>

 <a href="../../index.html">
  <img src="http://nipy.github.io/mindboggle/shared/mindboggle_logo_small.jpg" alt="small mindboggle logo"  border="0" width="160"/></a>

   </td>
   <td>
    <table>
     <tr>
 <a style="padding: 20px 20px 20px 20px; color: #b07613; text-decoration: none; font-size: 32px"
  href="../../index.html">Mindboggle</a>
     </tr>
     <tr> <td height="18"></td>
     </tr>
     <tr>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="http://nipy.github.io/mindboggle/users/README.html">Software</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../data.html">Data</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../papers.html">Papers</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../people.html">People</a>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
</div>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="mio-vtks">
<h1>mio.vtks<a class="headerlink" href="#mio-vtks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mindboggle.mio.vtks">
<span id="module-mio-vtks"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">mio.vtks</span></code><a class="headerlink" href="#module-mindboggle.mio.vtks" title="Permalink to this headline">¶</a></h2>
<p>Functions related to reading and writing VTK format files.</p>
<dl class="docutils">
<dt>Authors:</dt>
<dd><ul class="first last simple">
<li>Forrest Sheng Bao, 2012-2013  (<a class="reference external" href="mailto:forrest&#46;bao&#37;&#52;&#48;gmail&#46;com">forrest<span>&#46;</span>bao<span>&#64;</span>gmail<span>&#46;</span>com</a>)  <a class="reference external" href="http://fsbao.net">http://fsbao.net</a></li>
<li>Arno Klein, 2012-2014  (<a class="reference external" href="mailto:arno&#37;&#52;&#48;mindboggle&#46;info">arno<span>&#64;</span>mindboggle<span>&#46;</span>info</a>)  <a class="reference external" href="http://binarybottle.com">http://binarybottle.com</a></li>
<li>Oliver Hinds, 2013 (<a class="reference external" href="mailto:ohinds&#37;&#52;&#48;gmail&#46;com">ohinds<span>&#64;</span>gmail<span>&#46;</span>com</a>)</li>
<li>Daniel Haehn, 2013 (<a class="reference external" href="mailto:daniel&#46;haehn&#37;&#52;&#48;childrens&#46;harvard&#46;edu">daniel<span>&#46;</span>haehn<span>&#64;</span>childrens<span>&#46;</span>harvard<span>&#46;</span>edu</a>)</li>
</ul>
</dd>
</dl>
<p>Copyright 2013,  Mindboggle team (<a class="reference external" href="http://mindboggle.info">http://mindboggle.info</a>), Apache v2.0 License</p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mindboggle.mio.vtks.apply_affine_transforms">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">apply_affine_transforms</code><span class="sig-paren">(</span><em>transform_files</em>, <em>inverse_booleans</em>, <em>transform_format='itk'</em>, <em>vtk_or_points=[]</em>, <em>vtk_file_stem='affine_'</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.apply_affine_transforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform coordinates using an affine matrix.</p>
<p>For use with ANTs, x and y columns are multiplied by -1 before and after
applying the inverse affine transform because ITK uses a different
coordinate system than the NIfTI coordinate system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>transform files</strong> : list of strings</p>
<blockquote>
<div><p>names of affine transform files</p>
</div></blockquote>
<p><strong>inverse_booleans</strong> : list of of zeros and ones</p>
<blockquote>
<div><p>for each transform, 1 to take the inverse, else 0</p>
</div></blockquote>
<p><strong>transform_format</strong> : string</p>
<blockquote>
<div><p>format for transform file (currently &#8216;itk&#8217;);
complications arise with other formats, such as
&#8216;txt&#8217; for text, or &#8216;mat&#8217; for Matlab format, since
software-specific assignment of parameters such as
the origin need to be taken into account</p>
</div></blockquote>
<p><strong>vtk_or_points</strong> : string or list of lists of three integers</p>
<blockquote>
<div><p>name of VTK file containing point coordinate data, or the data
(if vtk file, assumes scalars are a list of floats or integers)</p>
</div></blockquote>
<p><strong>vtk_file_stem</strong> : string</p>
<blockquote>
<div><p>save transformed coordinates in a vtk file with this file prepend
(empty string if vtk_or_points is points)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>affine_points</strong> : list of lists of floats</p>
<blockquote>
<div><p>transformed coordinates</p>
</div></blockquote>
<p><strong>output_file</strong> : string or None (if not vtk_file_stem or vtk_or_points is points)</p>
<blockquote class="last">
<div><p>name of VTK file containing transformed point data</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">apply_affine_transforms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform_files</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;/Users/arno/mindboggle_working/OASIS-TRT-20-1/Mindboggle/Compose_affine_transform/affine.txt&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverse_booleans</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform_format</span> <span class="o">=</span> <span class="s">&#39;itk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vtk_or_points</span> <span class="o">=</span> <span class="s">&#39;/Users/arno/mindboggle_working/OASIS-TRT-20-1/Mindboggle/_hemi_lh/Surface_to_vtk/lh.pial.vtk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vtk_file_stem</span> <span class="o">=</span> <span class="s">&#39;affine_&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">affine_points</span><span class="p">,</span> <span class="n">output_file</span> <span class="o">=</span> <span class="n">apply_affine_transforms</span><span class="p">(</span><span class="n">transform_files</span><span class="p">,</span> <span class="n">inverse_booleans</span><span class="p">,</span> <span class="n">transform_format</span><span class="p">,</span> <span class="n">vtk_or_points</span><span class="p">,</span> <span class="n">vtk_file_stem</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="s">&#39;affine_lh.pial.vtk&#39;</span><span class="p">,</span> <span class="n">vtk_or_points</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.explode_scalars">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">explode_scalars</code><span class="sig-paren">(</span><em>input_indices_vtk, input_values_vtk='', output_stem='', exclude_values=[-1], background_value=-1, output_scalar_name='scalars', remove_background_faces=True, reindex=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.explode_scalars" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out a separate VTK file for each integer (not in exclude_values)
in (the first) scalar list of an input VTK file.
Optionally write the values drawn from a second VTK file,
remove background values, and reindex indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_indices_vtk</strong> : string</p>
<blockquote>
<div><p>path of the input VTK file that contains indices as scalars
(assumes that the scalars are a list of floats or integers)</p>
</div></blockquote>
<p><strong>input_values_vtk</strong> : string</p>
<blockquote>
<div><p>path of the input VTK file that contains values as scalars</p>
</div></blockquote>
<p><strong>output_stem</strong> : string</p>
<blockquote>
<div><p>path and stem of the output VTK file</p>
</div></blockquote>
<p><strong>exclude_values</strong> : list or array</p>
<blockquote>
<div><p>values to exclude</p>
</div></blockquote>
<p><strong>background_value</strong> : integer or float</p>
<blockquote>
<div><p>background value in output VTK files</p>
</div></blockquote>
<p><strong>remove_background_faces</strong> : Boolean</p>
<blockquote>
<div><p>remove all faces whose three vertices are not all a given index?</p>
</div></blockquote>
<p><strong>reindex</strong> : Boolean</p>
<blockquote class="last">
<div><p>reindex all indices in faces?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Example 1:  explode sulci with thickness values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">explode_scalars</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_indices_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;features&#39;</span><span class="p">,</span> <span class="s">&#39;sulci.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_values_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.travel_depth.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_stem</span> <span class="o">=</span> <span class="s">&#39;sulci_depth&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">explode_scalars</span><span class="p">(</span><span class="n">input_indices_vtk</span><span class="p">,</span> <span class="n">input_values_vtk</span><span class="p">,</span> <span class="n">output_stem</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="n">output_stem</span> <span class="o">+</span> <span class="s">&#39;0.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="n">example_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Example 2:  explode labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">explode_scalars</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_values_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;labels&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="s">&#39;lh.labels.DKT25.manual.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_indices_vtk</span> <span class="o">=</span> <span class="n">input_values_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_stem</span> <span class="o">=</span> <span class="s">&#39;label&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_values</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">background_value</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_scalar_name</span> <span class="o">=</span> <span class="s">&#39;scalars&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_background_faces</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reindex</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">explode_scalars</span><span class="p">(</span><span class="n">input_indices_vtk</span><span class="p">,</span> <span class="n">input_values_vtk</span><span class="p">,</span> <span class="n">output_stem</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="n">exclude_values</span><span class="p">,</span> <span class="n">background_value</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="n">output_scalar_name</span><span class="p">,</span> <span class="n">remove_background_faces</span><span class="p">,</span> <span class="n">reindex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="n">output_stem</span> <span class="o">+</span> <span class="s">&#39;2.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="n">example_vtk</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.explode_scalars_mindboggle">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">explode_scalars_mindboggle</code><span class="sig-paren">(</span><em>subject</em>, <em>subject_path=''</em>, <em>output_path=''</em>, <em>pieces='labels'</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.explode_scalars_mindboggle" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a subject name corresponding to Mindboggle shape surface outputs,
take each shape surface VTK file, and create a separate VTK file for each
label index in a label surface file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>subject</strong> : string</p>
<blockquote>
<div><p>name of subject run through Mindboggle</p>
</div></blockquote>
<p><strong>subject_path</strong> : string</p>
<blockquote>
<div><p>path to subject&#8217;s parent directory</p>
</div></blockquote>
<p><strong>output_path</strong> : string</p>
<blockquote>
<div><p>output path/directory</p>
</div></blockquote>
<p><strong>pieces</strong> : string</p>
<blockquote class="last">
<div><p>name of structures to explode {&#8216;labels&#8217;, &#8216;sulci&#8217;} #, &#8216;fundus_per_sulcus&#8217;, &#8216;folds&#8217;}</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Explode depth surface file by label values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">explode_scalars_mindboggle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subject</span> <span class="o">=</span> <span class="s">&#39;Twins-2-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subject_path</span> <span class="o">=</span> <span class="s">&#39;/Users/arno/mindboggled&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_path</span> <span class="o">=</span> <span class="s">&#39;/desk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pieces</span> <span class="o">=</span> <span class="s">&#39;fundus_per_sulcus&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">explode_scalars_mindboggle</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">subject_path</span><span class="p">,</span> <span class="n">output_path</span><span class="p">,</span> <span class="n">pieces</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;/desk/left_exploded/travel_depth_1035.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="n">example_vtk</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.freesurfer_annot_to_vtk">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">freesurfer_annot_to_vtk</code><span class="sig-paren">(</span><em>annot_file</em>, <em>vtk_file</em>, <em>output_vtk=''</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.freesurfer_annot_to_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a FreeSurfer .annot file and save as a VTK format file.</p>
<p>Note regarding current pip install nibabel (fixed in github master repo):</p>
<div class="highlight-python"><div class="highlight"><pre>The &#39;True&#39; flag in nibabel.freesurfer.read_annot(annot_file, True)
gives the original FreeSurfer label values, not the FreeSurferColorLUT
labels, and when set to &#39;False&#39; assigns all otherwise unlabeled
left cortical vertices to 3, which is also assigned to the caudal
middle frontal gyrus.  To correct this ambiguity, this program assigns
-1 to all vertices with label 0 in the original (&#39;True&#39;) labels.
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>annot_file</strong> : string</p>
<blockquote>
<div><p>name of FreeSurfer .annot file</p>
</div></blockquote>
<p><strong>vtk_file</strong> : string</p>
<blockquote>
<div><p>name of VTK surface file</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote>
<div><p>name of output VTK file, where each vertex is assigned
the corresponding shape value</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>labels</strong> : list</p>
<blockquote>
<div><p>integers (one label per vertex)</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote class="last">
<div><p>name of output VTK file, where each vertex is assigned
the corresponding shape value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">freesurfer_annot_to_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">annot_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;freesurfer&#39;</span><span class="p">,</span> <span class="s">&#39;lh.aparc.annot&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vtk_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;freesurfer&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="p">,</span> <span class="n">output_vtk</span> <span class="o">=</span> <span class="n">freesurfer_annot_to_vtk</span><span class="p">(</span><span class="n">annot_file</span><span class="p">,</span> <span class="n">vtk_file</span><span class="p">,</span> <span class="n">output_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="n">output_vtk</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.freesurfer_curvature_to_vtk">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">freesurfer_curvature_to_vtk</code><span class="sig-paren">(</span><em>surface_file</em>, <em>vtk_file</em>, <em>output_vtk=''</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.freesurfer_curvature_to_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert FreeSurfer curvature, thickness, or convexity file to VTK format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>surface_file</strong> : string</p>
<blockquote>
<div><p>name of FreeSurfer surface file</p>
</div></blockquote>
<p><strong>vtk_file</strong> : string</p>
<blockquote>
<div><p>name of VTK surface file</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote>
<div><p>name of output VTK file</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_vtk</strong> : string</p>
<blockquote class="last">
<div><p>name of output VTK file, where each vertex is assigned
the corresponding shape value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">freesurfer_curvature_to_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">surface_file</span> <span class="o">=</span> <span class="s">&#39;lh.thickness&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vtk_file</span> <span class="o">=</span> <span class="s">&#39;lh.pial.vtk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freesurfer_curvature_to_vtk</span><span class="p">(</span><span class="n">surface_file</span><span class="p">,</span> <span class="n">vtk_file</span><span class="p">,</span> <span class="n">output_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="s">&#39;lh.thickness.vtk&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.freesurfer_surface_to_vtk">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">freesurfer_surface_to_vtk</code><span class="sig-paren">(</span><em>surface_file</em>, <em>output_vtk=''</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.freesurfer_surface_to_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert FreeSurfer surface file to VTK format.</p>
<p>If a file named orig.mgz exists in &#8216;../mri&#8217;, the surface coordinates
are transformed into scanner RAS space during format conversion
according to the vox2ras transform in that file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>surface_file</strong> : string</p>
<blockquote>
<div><p>name of FreeSurfer surface file</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote>
<div><p>name of output VTK file; if blank, appends
&#8221;.vtk&#8221; to surface_file and saves to the
current working directory.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_vtk</strong> : string</p>
<blockquote class="last">
<div><p>name of output VTK file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">freesurfer_surface_to_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;SUBJECTS_DIR&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">surface_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;OASIS-TRT-20-1&#39;</span><span class="p">,</span> <span class="s">&#39;surf&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freesurfer_surface_to_vtk</span><span class="p">(</span><span class="n">surface_file</span><span class="p">,</span> <span class="n">output_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="s">&#39;lh.pial.vtk&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.read_faces_points">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">read_faces_points</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.read_faces_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Load points and faces of a VTK surface file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>path/filename of a VTK format file</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>faces</strong> : list of lists of integers</p>
<blockquote>
<div><p>each element is list of 3 indices of vertices that form a face
on a surface mesh</p>
</div></blockquote>
<p><strong>points</strong> : list of lists of floats</p>
<blockquote>
<div><p>each element is a list of 3-D coordinates of a surface mesh vertex</p>
</div></blockquote>
<p><strong>npoints</strong> : integer</p>
<blockquote class="last">
<div><p>number of points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">read_faces_points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">folds_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;features&#39;</span><span class="p">,</span> <span class="s">&#39;folds.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">faces</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">npoints</span> <span class="o">=</span> <span class="n">read_faces_points</span><span class="p">(</span><span class="n">folds_file</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.read_itk_transform">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">read_itk_transform</code><span class="sig-paren">(</span><em>transform_file</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.read_itk_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Read ITK transform file and output transform array.</p>
<p>Daniel Haehn&#8217;s implementation: <a class="reference external" href="https://gist.github.com/haehn/5614966">https://gist.github.com/haehn/5614966</a></p>
<p>..ITK affine transform file format</p>
<div class="highlight-python"><div class="highlight"><pre>#Insight Transform File V1.0
#Transform 0
Transform: MatrixOffsetTransformBase_double_3_3
Parameters: 0.90768 0.043529 0.0128917 -0.0454455 0.868937 0.406098                     0.0179439 -0.430013 0.783074 -0.794889 -18.3346 -3.14767
FixedParameters: -0.60936 21.1593 10.6148
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>transform_file</strong> : string</p>
<blockquote>
<div><p>name of ITK affine transform file</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>transform</strong> : numpy array</p>
<blockquote class="last">
<div><p>4x4 affine transform matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">read_itk_transform</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;mri&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="s">&#39;t1weighted_brain.MNI152Affine.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_itk_transform</span><span class="p">(</span><span class="n">transform_file</span><span class="p">)</span>
<span class="go">    array([[  9.07680e-01,   4.35290e-02,   1.28917e-02,   -8.16765e-01],</span>
<span class="go">           [ -4.54455e-02,   8.68937e-01,   4.06098e-01,   -2.31926e+01],</span>
<span class="go">           [  1.79439e-02,  -4.30013e-01,   7.83074e-01,   3.52899e+00],</span>
<span class="go">           [  0 0 0 1]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.read_itk_transform_old">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">read_itk_transform_old</code><span class="sig-paren">(</span><em>transform_file</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.read_itk_transform_old" title="Permalink to this definition">¶</a></dt>
<dd><p>Read ITK transform file and output transform array.</p>
<p>..ITK affine transform file format</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#Insight Transform File V1.0</span>
<span class="c">#Transform 0</span>
</pre></div>
</div>
<p>Transform: MatrixOffsetTransformBase_double_3_3
Parameters: 0.90768 0.043529 0.0128917 -0.0454455 0.868937 0.406098     0.0179439 -0.430013 0.783074 -0.794889 -18.3346 -3.14767
FixedParameters: -0.60936 21.1593 10.6148</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>transform_file</strong> : string</p>
<blockquote>
<div><p>name of ITK affine transform file</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>transform</strong> : numpy array</p>
<blockquote>
<div><p>4x4 affine transform matrix</p>
</div></blockquote>
<p><strong>fixed_parameters</strong> : numpy array</p>
<blockquote class="last">
<div><p>FixedParameters vector</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">read_itk_transform</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;mri&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="s">&#39;t1weighted_brain.MNI152Affine.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_itk_transform</span><span class="p">(</span><span class="n">transform_file</span><span class="p">)</span>
<span class="go">(array([[ 9.07680e-01, 4.35290e-02, 1.28917e-02, -7.94889e-01],</span>
<span class="go">[ -4.54455e-02, 8.68937e-01, 4.06098e-01, -1.83346e+01],</span>
<span class="go">[ 1.79439e-02, -4.30013e-01, 7.83074e-01, -3.14767e+00],</span>
<span class="go">[ 0.00000e+00, 0.00000e+00, 0.00000e+00, 1.00000e+00]]),</span>
<span class="go">[-0.60936, 21.1593, 10.6148])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.read_lines">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">read_lines</code><span class="sig-paren">(</span><em>Filename</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.read_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Load LINES from a VTK file, along with the scalar values.</p>
<p>The line that extracts vertices from a VTK
iterates from 1 to Vrts.GetSize(), rather than from 0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Filename</strong> : string</p>
<blockquote>
<div><p>The path/filename of a VTK format file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lines</strong> : list of 2-tuple of integers</p>
<blockquote>
<div><p>each element is a 2-tuple of IDs (i.e., indices) of two points
defined in the POINTS section of the VTK file</p>
</div></blockquote>
<p><strong>scalars</strong> : list of floats</p>
<blockquote class="last">
<div><p>each element is a scalar value corresponding to a vertex</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.read_points">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">read_points</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.read_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Load points of a VTK surface file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>path/filename of a VTK format file</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>points</strong> : list of lists of floats</p>
<blockquote class="last">
<div><p>each element is a list of 3-D coordinates of a surface mesh vertex</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.read_scalars">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">read_scalars</code><span class="sig-paren">(</span><em>filename</em>, <em>return_first=True</em>, <em>return_array=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.read_scalars" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all scalar lookup tables from a VTK file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>The path/filename of a VTK format file.</p>
</div></blockquote>
<p><strong>return_first</strong> : Boolean</p>
<blockquote>
<div><p>Return only the first list of scalar values?</p>
</div></blockquote>
<p><strong>return_array</strong> : Boolean (only if return_first)</p>
<blockquote>
<div><p>Return first list of scalars as a numpy array?</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>scalars</strong> : list of lists of integers or floats</p>
<blockquote>
<div><p>each element is a list of scalar values for the vertices of a mesh</p>
</div></blockquote>
<p><strong>scalar_name(s)</strong> : list of strings</p>
<blockquote class="last">
<div><p>each element is the name of a lookup table</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">read_scalars</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">curv_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.mean_curvature.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mean_curvatures</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">curv_file</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.read_vertices">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">read_vertices</code><span class="sig-paren">(</span><em>Filename</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.read_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Load VERTICES segment from a VTK file (actually indices to vertices)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Filename</strong> : string</p>
<blockquote>
<div><p>The path/filename of a VTK format file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>indices</strong> : a list of integers</p>
<blockquote>
<div><p>Each element is an integer defined in the VTK file&#8217;s VERTICES segment.
The integer is an index referring to a point defined in the
POINTS segment of the VTK file.</p>
</div></blockquote>
<p><strong>Notes ::</strong> :</p>
<blockquote class="last">
<div><p>We assume that VERTICES segment is organized as one line,
the first column of which is the number of vertices.
Vertices here are as vertices in VTK terminology.
It may not be the vertices in your 3-D surface.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.read_vtk">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">read_vtk</code><span class="sig-paren">(</span><em>input_vtk</em>, <em>return_first=True</em>, <em>return_array=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.read_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Load faces, lines, indices, points, #points,
and all scalar lookup tables from a VTK file.</p>
<p>Note</p>
<div class="highlight-python"><div class="highlight"><pre>1. This supports copying lines, vertices (indices of points),
   and triangular faces from one surface to another.
2. We assume that all vertices are written in one line
   in the VERTICES segment.
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_vtk</strong> : string</p>
<blockquote>
<div><p>path/filename of a VTK format file</p>
</div></blockquote>
<p><strong>return_first</strong> : Boolean</p>
<blockquote>
<div><p>Return only the first list of scalar values?</p>
</div></blockquote>
<p><strong>return_array</strong> : Boolean (only if return_first)</p>
<blockquote>
<div><p>Return first list of scalars as a numpy array?</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>points</strong> :  list of 3-tuples of floats</p>
<blockquote>
<div><p>each element has 3 numbers representing the coordinates of the points</p>
</div></blockquote>
<p><strong>indices</strong> : list of integers</p>
<blockquote>
<div><p>indices of vertices</p>
</div></blockquote>
<p><strong>lines</strong> : list of 2-tuples of integers</p>
<blockquote>
<div><p>each element is an edge on the mesh, consisting of 2 integers
representing the 2 vertices of the edge</p>
</div></blockquote>
<p><strong>faces</strong> : list of lists of integers</p>
<blockquote>
<div><p>each element is list of 3 indices of vertices that form a face
on a surface mesh</p>
</div></blockquote>
<p><strong>scalars</strong> : list or list of lists of floats or integers</p>
<blockquote>
<div><p>scalar values for the vertices of a mesh</p>
</div></blockquote>
<p><strong>scalar_names</strong> : string or list of strings</p>
<blockquote>
<div><p>name(s) of lookup table(s)</p>
</div></blockquote>
<p><strong>npoints</strong> : int</p>
<blockquote>
<div><p>number of vertices in the mesh</p>
</div></blockquote>
<p><strong>input_vtk</strong> : string</p>
<blockquote class="last">
<div><p>path/filename of the input VTK format file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">read_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.mean_curvature.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">scalars</span><span class="p">,</span> <span class="n">scalar_names</span><span class="p">,</span> <span class="n">npoints</span><span class="p">,</span> <span class="n">input_vtk</span> <span class="o">=</span> <span class="n">read_vtk</span><span class="p">(</span><span class="n">input_vtk</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.rewrite_scalars">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">rewrite_scalars</code><span class="sig-paren">(</span><em>input_vtk, output_vtk, new_scalars, new_scalar_names=['scalars'], filter_scalars=[], background_value=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.rewrite_scalars" title="Permalink to this definition">¶</a></dt>
<dd><p>Load VTK format file and save a subset of scalars into a new file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_vtk</strong> : string</p>
<blockquote>
<div><p>input VTK file name</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote>
<div><p>output VTK file name</p>
</div></blockquote>
<p><strong>new_scalars</strong> : list of lists of floats (or single list or array of floats)</p>
<blockquote>
<div><p>each list (lookup table) contains new values to assign to the vertices</p>
</div></blockquote>
<p><strong>new_scalar_names</strong> : string or list of strings</p>
<blockquote>
<div><p>each element is the new name for a lookup table</p>
</div></blockquote>
<p><strong>filter_scalars</strong> : list or numpy array (optional)</p>
<blockquote>
<div><p>scalar values used to filter faces (foreground values retained)</p>
</div></blockquote>
<p><strong>background_value</strong> : integer</p>
<blockquote>
<div><p>background value</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_vtk</strong> : string</p>
<blockquote class="last">
<div><p>output VTK file name</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Write vtk file with curvature values on sulci</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">read_scalars</span><span class="p">,</span> <span class="n">rewrite_scalars</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.mean_curvature.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sulci_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;features&#39;</span><span class="p">,</span> <span class="s">&#39;sulci.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;rewrite_scalars.vtk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">curvs</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">input_vtk</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sulci</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">sulci_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_scalars</span> <span class="o">=</span> <span class="p">[</span><span class="n">curvs</span><span class="p">,</span> <span class="n">sulci</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_scalar_names</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;curvs&#39;</span><span class="p">,</span> <span class="s">&#39;sulci&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_scalars</span> <span class="o">=</span> <span class="n">sulci</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">background_value</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rewrite_scalars</span><span class="p">(</span><span class="n">input_vtk</span><span class="p">,</span> <span class="n">output_vtk</span><span class="p">,</span> <span class="n">new_scalars</span><span class="p">,</span> <span class="n">new_scalar_names</span><span class="p">,</span> <span class="n">filter_scalars</span><span class="p">,</span> <span class="n">background_value</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="s">&#39;rewrite_scalars.vtk&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.scalars_checker">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">scalars_checker</code><span class="sig-paren">(</span><em>scalars</em>, <em>scalar_names</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.scalars_checker" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether input scalars and scalar_names are in acceptable format.
If not, reformat.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>scalars</strong> : list of lists of floats (or single list or 1-/2-D array)</p>
<p><strong>scalar_names</strong> : string or list of strings</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>scalars</strong> : list of lists of floats or integers</p>
<p class="last"><strong>scalar_names</strong> : list of strings</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function does not check all possible cases of scalars and
scalar_names, but only those that are likely to occur when using Mindboggle.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">scalars_checker</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="p">[</span><span class="s">&quot;list1&quot;</span><span class="p">,</span> <span class="s">&quot;list2&quot;</span><span class="p">])</span>
<span class="go">  ([[1, 2], [3, 4]], [&#39;list1&#39;, &#39;list2&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="go">  ([[1, 2], [3, 4]], [&#39;&#39;, &#39;&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="p">[</span><span class="s">&quot;list1&quot;</span><span class="p">,</span> <span class="s">&quot;list2&quot;</span><span class="p">,</span> <span class="s">&quot;list3&quot;</span><span class="p">])</span>
<span class="go">  ([[1, 2], [3, 4]], [&#39;list1&#39;, &#39;list2&#39;, &#39;list3&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="s">&quot;list1&quot;</span><span class="p">)</span>
<span class="go">  ([[1, 2], [3, 4]], [&#39;list1&#39;, &#39;list1&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;123&quot;</span><span class="p">])</span>
<span class="go">  ([[1, 2, 3, 4]], [&#39;123&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;123&quot;</span><span class="p">])</span>
<span class="go">  Error: scalars is neither a list nor a numpy array.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="p">[</span><span class="s">&quot;123&quot;</span><span class="p">])</span>
<span class="go">  ([[1, 2, 3]], [&#39;123&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]),</span> <span class="p">[</span><span class="s">&quot;123&quot;</span><span class="p">])</span>
<span class="go">  ([[1, 2, 3]], [&#39;123&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]),</span> <span class="p">[</span><span class="s">&quot;123&quot;</span><span class="p">])</span>
<span class="go">  ([[1, 2, 3], [4, 5, 6]], [&#39;123&#39;, &#39;123&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]]),</span> <span class="p">[</span><span class="s">&quot;123&quot;</span><span class="p">])</span>
<span class="go">  Error: Dimension of new_scalars is too high.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars_checker</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]),[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]),</span> <span class="p">[</span><span class="s">&quot;123&quot;</span><span class="p">])</span>
<span class="go">  ([[0, 7, 9], [1, 2, 3]], [&#39;123&#39;, &#39;123&#39;])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.transform_to_volume">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">transform_to_volume</code><span class="sig-paren">(</span><em>vtk_file</em>, <em>volume_file</em>, <em>output_volume=''</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.transform_to_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform vtk coordinates to voxel index coordinates in a target
volume by using the header transformation.</p>
<p>This function assumes that the nibabel-readable volume has LPI orientation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vtk_file</strong> : string</p>
<blockquote>
<div><p>name of VTK file containing point coordinate data</p>
</div></blockquote>
<p><strong>volume_file</strong> : string</p>
<blockquote>
<div><p>name of target nibabel-readable image volume file</p>
</div></blockquote>
<p><strong>output_volume</strong> : string</p>
<blockquote>
<div><p>name of output nibabel-readable image volume file</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_volume</strong> : string</p>
<blockquote class="last">
<div><p>name of nifti file containing transformed point data</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">transform_to_volume</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_volumes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vtk_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.mean_curvature.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">volume_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;mri&#39;</span><span class="p">,</span> <span class="s">&#39;t1weighted_brain.nii.gz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_volume</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transform_to_volume</span><span class="p">(</span><span class="n">vtk_file</span><span class="p">,</span> <span class="n">volume_file</span><span class="p">,</span> <span class="n">output_volume</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_volumes</span><span class="p">([</span><span class="s">&#39;affine_lh.pial.mean_curvature.vtk.nii.gz&#39;</span><span class="p">,</span> <span class="n">volume_file</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.write_faces">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">write_faces</code><span class="sig-paren">(</span><em>Fp</em>, <em>faces</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.write_faces" title="Permalink to this definition">¶</a></dt>
<dd><p>Write indices to vertices forming triangular meshes or lines,
the POLYGONS section in DATASET POLYDATA section:</p>
<blockquote>
<div>POLYGONS 301978 1207912
3 0 1 4
...</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.write_header">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">write_header</code><span class="sig-paren">(</span><em>Fp</em>, <em>Header='# vtk DataFile Version 2.0'</em>, <em>Title='Generated by Mindboggle (www.mindboggle.info)'</em>, <em>fileType='ASCII'</em>, <em>dataType='POLYDATA'</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.write_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Write header information for a VTK-format file:</p>
<div class="highlight-python"><div class="highlight"><pre># vtk DataFile Version 2.0
Generated by Mindboggle (www.mindboggle.info)
ASCII
DATASET POLYDATA
</pre></div>
</div>
<dl class="docutils">
<dt>This part matches three things in the VTK 4.2 File Formats doc:</dt>
<dd><ul class="first last">
<li><p class="first">Part 1: Header</p>
</li>
<li><p class="first">Part 2: Title (256 characters maximum, ending with newline character)</p>
</li>
<li><p class="first">Part 3: Data type, either ASCII or BINARY</p>
</li>
<li><dl class="first docutils">
<dt>Part 4: Geometry/topology. dataType is one of:</dt>
<dd><ul class="first last simple">
<li>STRUCTURED_POINTS</li>
<li>STRUCTURED_GRID</li>
<li>UNSTRUCTURED_GRID</li>
<li>POLYDATA</li>
<li>RECTILINEAR_GRID</li>
<li>FIELD</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.write_lines">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">write_lines</code><span class="sig-paren">(</span><em>Fp</em>, <em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.write_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Save connected line segments to a VTK file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Fp</strong> : pointer to a file</p>
<blockquote>
<div><p>pointer to the file to write lines</p>
</div></blockquote>
<p><strong>lines</strong> : list of 2-tuples of integers</p>
<blockquote class="last">
<div><p>each element is an edge on the mesh, consisting of 2 integers
representing the 2 vertices of the edge</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.write_points">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">write_points</code><span class="sig-paren">(</span><em>Fp</em>, <em>points</em>, <em>dataType='float'</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.write_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Write coordinates of points, the POINTS section in DATASET POLYDATA:</p>
<div class="highlight-python"><div class="highlight"><pre>POINTS 150991 float
-7.62268877029 -81.2403945923 -1.44539153576
...
</pre></div>
</div>
<p>Indices are 0-offset. Thus the first point is point id 0:</p>
<div class="highlight-python"><div class="highlight"><pre>POINTS n dataType
p0x p0y p0z
...
p(n-1)x p(n-1)y p(n-1)z
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.write_scalars">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">write_scalars</code><span class="sig-paren">(</span><em>Fp</em>, <em>scalars</em>, <em>scalar_name</em>, <em>begin_scalars=True</em>, <em>scalar_type='float'</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.write_scalars" title="Permalink to this definition">¶</a></dt>
<dd><p>Write per-VERTEX values as a scalar lookup table into a VTK file:</p>
<div class="highlight-python"><div class="highlight"><pre>POINT_DATA 150991
SCALARS Max_(majority_labels) int 
LOOKUP_TABLE default
11 
11 
11 
11 
.
.
.
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Fp</strong> : string</p>
<blockquote>
<div><p>name of VTK surface mesh file</p>
</div></blockquote>
<p><strong>scalars</strong> :  list of integers or floats</p>
<blockquote>
<div><p>scalar values, one per vertex of mesh</p>
</div></blockquote>
<p><strong>scalar_name</strong> : string</p>
<blockquote>
<div><p>name for scalars (use unbroken string)</p>
</div></blockquote>
<p><strong>begin_scalars</strong> : Boolean</p>
<blockquote>
<div><p>True if the first vertex lookup table in a VTK file</p>
</div></blockquote>
<p><strong>scalar_type</strong> : string</p>
<blockquote class="last">
<div><p>type of scalars (&#8216;float&#8217; or &#8216;int&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.write_vertices">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">write_vertices</code><span class="sig-paren">(</span><em>Fp</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.write_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Write indices to vertices, the VERTICES section
in the DATASET POLYDATA section:</p>
<div class="highlight-python"><div class="highlight"><pre>VERTICES 140200 420600
3 130239 2779 10523
...
</pre></div>
</div>
<p>Indices are 0-offset. Thus the first point is point id 0:</p>
<div class="highlight-python"><div class="highlight"><pre>VERTICES n size
numPoints0 i0 j0 k0
...
numPoints_[n-1] i_[n-1] j_[n-1] k_[n-1]
</pre></div>
</div>
<p>Note:</p>
<div class="highlight-python"><div class="highlight"><pre>Currently we write all vertices in one line.
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.mio.vtks.write_vtk">
<code class="descclassname">mindboggle.mio.vtks.</code><code class="descname">write_vtk</code><span class="sig-paren">(</span><em>output_vtk, points, indices=[], lines=[], faces=[], scalars=[], scalar_names=['scalars'], scalar_type='float'</em><span class="sig-paren">)</span><a class="headerlink" href="#mindboggle.mio.vtks.write_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Save lists of scalars into the lookup table of a VTK-format file.</p>
<p>Scalar definition includes specification of a lookup table.
The definition of a lookup table is optional. If not specified,
the default VTK table will be used (and tableName should be &#8220;default&#8221;).</p>
<p>SCALARS dataName dataType numComp
LOOKUP_TABLE tableName</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>output_vtk</strong> : string</p>
<blockquote>
<div><p>path of the output VTK file</p>
</div></blockquote>
<p><strong>points</strong> :  list of 3-tuples of floats</p>
<blockquote>
<div><p>each element has 3 numbers representing the coordinates of the points</p>
</div></blockquote>
<p><strong>indices</strong> : list of integers</p>
<blockquote>
<div><p>indices of vertices</p>
</div></blockquote>
<p><strong>lines</strong> : list of 2-tuples of integers</p>
<blockquote>
<div><p>Each element is an edge on the mesh, consisting of 2 integers
representing the 2 vertices of the edge</p>
</div></blockquote>
<p><strong>faces</strong> : list of 3-tuples of integers</p>
<blockquote>
<div><p>indices to the three vertices of a face on the mesh</p>
</div></blockquote>
<p><strong>scalars</strong> : list of floats, or list of lists of floats;</p>
<blockquote>
<div><p>each list (lookup table) contains values assigned to the vertices</p>
</div></blockquote>
<p><strong>scalar_names</strong> : string or list of strings</p>
<blockquote>
<div><p>each element is the name of a scalar list (lookup table)</p>
</div></blockquote>
<p><strong>scalar_type</strong> : string</p>
<blockquote class="last">
<div><p>type of scalars (&#8216;float&#8217; or &#8216;int&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Toy example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">write_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="p">[[</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">faces</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalars</span> <span class="o">=</span> <span class="p">[[</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalar_names</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;curv&#39;</span><span class="p">,</span><span class="s">&#39;depth&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;write_vtk.vtk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalar_type</span> <span class="o">=</span> <span class="s">&#39;float&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_vtk</span><span class="p">(</span><span class="n">output_vtk</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">scalars</span><span class="p">,</span> <span class="n">scalar_names</span><span class="p">,</span> <span class="n">scalar_type</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="n">output_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Write vtk file with curvature values and view:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.vtks</span> <span class="kn">import</span> <span class="n">read_vtk</span><span class="p">,</span> <span class="n">write_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.mio.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_vtk</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.mean_curvature.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">scalars</span><span class="p">,</span> <span class="n">scalar_names</span><span class="p">,</span> <span class="n">npoints</span><span class="p">,</span> <span class="n">input_vtk</span> <span class="o">=</span> <span class="n">read_vtk</span><span class="p">(</span><span class="n">input_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;write_vtk.vtk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scalar_type</span> <span class="o">=</span> <span class="s">&#39;float&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_vtk</span><span class="p">(</span><span class="n">output_vtk</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">scalars</span><span class="p">,</span> <span class="n">scalar_names</span><span class="p">,</span> <span class="n">scalar_type</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="n">output_vtk</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-693862-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>
</html>